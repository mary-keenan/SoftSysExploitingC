# Lecture 4 of CNIT 127: Exploit Development
Located [here](https://www.youtube.com/watch?v=Fm2UPeaBGUc&feature=youtu.be).

## Formatting Strings
- RAM contains bytes; the same byte can be interpreted as anything, integer, character, part of an address, etc.
- You can use string formatting for information disclosure (to print memory). For example, if a program asks you to input a string and you input "%x.%x.%x.%x", the program won't error like it should (since there are no arguments to print); it will print the next 4 values on the stack).
- Stack defenses don't protect against formatted string exploits.
- To do a formatted string exploit, you want to...
  - Control a parameter.
    - Insert 4 letters before the first %x field to control the 4th parameter.
  - Find a target RAM location.
    - You can target a saved return address (like buffer overflows), the global offset table (used to find shared library functions), the destructors tables (called when a program exits), C library hooks, function pointers, and (in Windows) the default unhandled exception handler (which is easy to find and exploit, because it's always at the same memory location and it's easy to trigger a call to it -- you just need to create an exception, like dividng a number by 0, etc).
  - Write 4 bytes to the targe RAM location.
  - Insert shellcode.
    - You can use msfvenom to generate shellcode.
  - Find the shellcode in RAM.
  - Write the shellcode address to target the RAM location.
